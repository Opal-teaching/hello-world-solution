<!DOCTYPE html>
<html lang="en" ng-app="my-app">
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="./node_modules/onsenui/css/onsenui.css"/>
	<link rel="stylesheet" href="./node_modules/onsenui/css/onsen-css-components.css"/>
	<script src="./node_modules/angular/angular.js"></script>
	<script src="./node_modules/onsenui/js/onsenui.js"></script>
	<script src="./node_modules/angularjs-onsenui/dist/angularjs-onsenui.js"></script>
</head>

<body>
	<ons-navigator swipeable id="myNavigator" page="page1.html"></ons-navigator>

	<template id="page1.html">
		<ons-page id="page1">
			<ons-toolbar>
				<div class="center">Page 1</div>
			</ons-toolbar>

			<p>This is the first page.</p>

			<ons-button id="push-button">Push page</ons-button>
		</ons-page>
	</template>

	<template id="page2.html">
		<ons-page id="page2" ng-controller="PageController">
			<ons-toolbar>
				<div class="left"><ons-back-button>Page 1</ons-back-button></div>
				<div class="center"></div>
			</ons-toolbar>

			<p>This is the second page.</p>

			<p>{{title}}</p>

			<p style="text-align: center">
				<ons-button ng-click="alert('Hello World!')">
					Click me!
				</ons-button>
			</p>
		</ons-page>
	</template>

	<script>
		var module = angular.module('my-app', ['onsen']);
		module.controller('PageController', function($scope) {
			$scope.title = "Hello";
			$scope.alert = function(message) {
				ons.notification.alert(message);
			};
		});

		document.addEventListener('init', function(event) {
			var page = event.target;

			if (page.id === 'page1') {
				page.querySelector('#push-button').onclick = function() {
					document.querySelector('#myNavigator').pushPage('page2.html', {data: {title: 'Page 2'}});
				};
			} else if (page.id === 'page2') {
				page.querySelector('ons-toolbar .center').innerHTML = page.data.title;
			}
		});
	</script>
</body>
</html>
